# 阿里 Wanx

## 简介

Wanx 是阿里巴巴的 AI 图像生成模型，可以根据文本描述生成高质量图像。

## 特点

- 文本到图像生成
- 图像到图像生成
- 高分辨率输出
- 多种风格选项
- 快速生成速度

## 模型简介

| 模型名称 | 子模型 | 描述 |
|----------|--------|------|
| 通义万相文生图 2.1 | wanx2.1-t2i-turbo | 生成速度更快，通用生成模型。 |
| 通义万相文生图 2.1 | wanx2.1-t2i-plus | 生成图像细节更丰富，速度稍慢，通用生成模型。 |
| 通义万相文生图 2.0 | wanx2.0-t2i-turbo | 擅长质感人像与创意设计，速度中等，性价比高。 |

![通义万相-文生图](/images/通义万相-文生图.jpg)

## 使用方法

```python
from alibaba_wanx import WanxClient

client = WanxClient(api_key="your_api_key")
response = client.generate_image(
    prompt="美丽的山间日落",
    style="realistic"
)
```

## API 参考

### 请求参数

| 参数 | 类型 | 描述 | 是否必选 | 示例 |
|------|------|------|------|------|
| model | string | 图像文本描述 | 是 | wanx2.1-t2i-turbo  wanx2.1-t2i-plus  wanx2.0-t2i-turbo |
| prompt | string | 模型名称 | 是 |
| style | string | 图像风格（写实、动漫等） | 是 |
| size | string | 输出图像尺寸 | 是 |
| negative_prompt | string | 反向提示词，用来描述不希望在画面中看到的内容，可以对画面进行限制。支持中英文，长度不超过500个字符，超过部分会自动截断。 | 否 | 低分辨率、错误、最差质量、低质量、残缺、多余的手指、比例不良等 |
| size | string | 输出图像的分辨率。默认值是1024*1024。图像宽高边长的像素范围为：[512, 1440]，单位像素。可任意组合以设置不同的图像分辨率，最高可达200万像素。 | 否 | 1024*1024 |
| n | integer | 生成图片的数量。取值范围为1~4张。 | 否 | 1 |
| seed | integer | 随机数种子，用于控制模型生成内容的随机性。seed参数取值范围是[0, 2147483647]。如果不提供，则算法自动生成一个随机数作为种子。如果给定了，则根据n的值分别为n张图片生成seed参数，例如n=4，算法将分别生成seed、seed+1、seed+2、seed+3作为参数的图片。如果您希望生成内容保持相对稳定，请使用相同的seed参数值。 | 否 | 123456 |
| prompt_extend | bool | 是否开启prompt智能改写。开启后会使用大模型对输入prompt进行智能改写，仅对正向提示词有效。对于较短的输入prompt生成效果提升明显，但会增加3-4秒耗时。true：默认值，开启智能改写。false：不开启智能改写。 | 否 | true |
| watermark | bool | 是否添加水印标识，水印位于图片右下角，文案为"AI生成"。false：默认值，不添加水印。true：添加水印。 | 否 | false |

### 异常响应

| 错误码 | 描述 | 解决方案 |
|--------|------|----------|
| 400 | 请求参数错误 | 检查请求参数是否符合要求 |
| 401 | 认证失败 | 检查 API Key 是否正确 |
| 403 | 权限不足 | 确认账号是否有调用权限 |
| 429 | 请求频率超限 | 降低请求频率或联系客服提升配额 |
| 500 | 服务器内部错误 | 稍后重试或联系技术支持 |

### 成功响应

```json
{
  "created": 0,
  "data": [
    {
      "url": "https://example.com/image1.jpg"
    }
  ]
}
```

| 字段 | 类型 | 描述 |
|------|------|------|
| created | integer | 创建时间戳 |
| data | array | 生成的图片数组 |
| data[].url | string | 图片访问地址 |